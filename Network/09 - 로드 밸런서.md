# 로드 밸런서
```text
로드 밸런서에는 동일한 서비스를 하는 다수의 서버가 등록되고 사용자로부터 서비스 요청이 오면 로드 밸런서가 받아
사용자별로 다수의 서버에 서비스 요청을 분산시켜 부하를 분산시킨다.

로드 밸런서에는 서비스를 위한 가상의 IP(VIP)를 하나 제공하고 사용자는 각 서버의 개별 IP 주소가 아닌
동일한 가상 IP를 통해 각 서버로 접근한다.
```

<br>

## 헬스 체크
```text
로드 밸런서에는 부하를 분산하는 각 서버의 서비스를 주기적으로 헬스 체크해 정상적인 서비스 쪽으로만
부하를 분산하고 비정상적인 서버는 서비스 그룹에서 제외해 트래픽을 보내지 않는다.

서비스 그룹에서 제외된 이후에도 헬스 체크를 계속 수행해 다시 정상으로 확인되면 서비스 그룹에 해당 장비를
다시 넣어 트래픽이 서버쪽으로 보내지도록 해준다.
```

<br>

## 부하 분산 알고리즘

### 라운드 로빈
```text
라운드 로빈 방식은 특별한 규칙 없이 현재 구성된 장비에 순차적으로 돌아가면서 트래픽을 분산한다.

서버가 3대 있다면 첫번쨰 요청은 1번 서버, 두번째 요청은 2번 서버, 세번째 요청은 3번 서버 네번째 요청은 다시 1번 서버로 할당한다.
순차적으로 모든 장비에 분산하므로 모든 장비의 총 누적 세션 수는 같아진다.
```

### 최소 접속 방식
```text
서버가 가진 세션 부하를 확인해 그것에 맞게 부하를 분산한다.

로드 밸런서에는 서비스 요청을 각 장비로 보내줄 때마다 세션 테이블이 생성되므로 각 장비에 연결된 세션 수를 알 수 있다.
최소 접속 방식은 각 장비의 세션 수를 확인해 현재 세션이 가장 적게 연결된 장비로 서비스 요청을 보내는 방식이다.
```

### 해시
```text
서버의 부하를 고려하지 않고 클라이언트가 같은 서버에 지속적으로 접속하도록 하기 위해 사용되는 부하 방식.

해시 알고리즘을 이용해 얻은 결과값으로 어떤 장비로 부하를 분산할지를 결정한다.
알고리즘에 의한 계산 값에 의해 부하를 분산하므로 같은 알고리즘을 사용하면 항상 동일한 결과값을 가지고 서비스를 분산할 수 있다.
```








































